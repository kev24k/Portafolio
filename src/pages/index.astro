---
import Layout from "@/layouts/Layout.astro";

import About from "@/components/sections/About.astro";
import Education from "@/components/sections/Education.astro";
import Experience from "@/components/sections/Experience.astro";
import Hero from "@/components/sections/Hero.astro";
import Projects from "@/components/sections/Projects.astro";
import Skills from "@/components/sections/Skills.astro";
import Tail from "@/components/sections/Tail.astro";
import KeyboardManager from "@/components/KeyboardManager.astro";
import ThemeSwitch from "@/components/ThemeSwitch.astro";

import { basics } from "@cv";
const { name, label } = basics;
---

<Layout title={`${name} Portafolio - ${label}`}>
	<main class="relative p-8 md:p-16 max-w-7xl mx-auto print:p-8 print:max-w-none">
		<div class="grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-12 print:grid-cols-12 print:gap-6 print:block-layout">
			
			<!-- Hero Area -->
			<div class="md:col-span-1 print:col-span-5 print:mb-4 section-hero">
				<Hero />
				<div class="print:hidden mt-4">
					<ThemeSwitch />
				</div>
			</div>

			<!-- About Area -->
			<div class="md:col-span-1 md:col-start-1 print:col-span-7 print:mt-4 section-about">
				<About />
			</div>

			<!-- Experience Area (Web: Derecha, Print: Derecha Abajo) -->
			<div class="md:col-span-2 md:col-start-2 md:row-start-1 md:row-span-3 print:col-span-7 print:mt-4 section-exp">
				<Experience />
			</div>

			<!-- Education Area (Web: Derecha Abajo, Print: Izquierda Abajo) -->
			<div class="md:col-span-2 md:col-start-2 print:col-span-5 section-edu">
				<Education />
			</div>

			<!-- Projects Area (Web: Abajo, Print: Hidden) -->
			<div class="md:col-span-3 print:hidden section-proj">
				<Projects />
			</div>

			<!-- Skills Area (Web: Abajo, Print: Pie de página) -->
			<div class="md:col-span-3 print:col-span-12 print:mt-auto section-skills">
				<Skills />
			</div>

		</div>
		
		<Tail />
	</main>

	<KeyboardManager />
</Layout>

<style>
	@page {
		size: auto;
		margin: 10mm;
	}
	
	@media print {
		/* Grid layout manual para impresión perfecta */
		.print\:block-layout {
			display: grid !important;
			grid-template-columns: repeat(12, 1fr);
			gap: 1.5rem;
			align-items: start;
		}

		/* Columna Izquierda (Empieza en 1) */
		.section-hero {
			grid-column: 1 / span 5;
			grid-row: 1;
		}
		.section-edu {
			grid-column: 1 / span 5;
			grid-row: 2;
		}
		.section-skills {
			grid-column: 1 / span 5;
			grid-row: 3;
			border-top: none;
			padding-top: 0;
		}

		/* Columna Derecha (Empieza en 6) */
		.section-about {
			grid-column: 6 / span 7;
			grid-row: 1;
			margin-top: 0 !important;
		}
		.section-exp {
			grid-column: 6 / span 7;
			grid-row: 2 / span 2; 
		}
	}
</style>